var mongoose=require("mongoose"),bcrypt=require("bcryptjs"),UserSchema=mongoose.Schema({username:{type:String,index:!0},password:{type:String},email:{type:String},name:{type:String}}),User=module.exports=mongoose.model("User",UserSchema);module.exports.createUser=function(a,b){bcrypt.genSalt(10,function(c,d){bcrypt.hash(a.password,d,function(d,c){a.password=c;a.save(b)})})};module.exports.getUserByUsername=function(a,b){User.findOne({username:a},b)};
module.exports.getUserById=function(a,b){User.findById(a,b)};module.exports.comparePassword=function(a,b,c){bcrypt.compare(a,b,function(a,b){if(a)throw a;c(null,b)})};
